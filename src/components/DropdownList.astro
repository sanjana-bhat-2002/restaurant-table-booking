<div class="relative w-full mt-5">
    <button id="listbox-button" class="relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
        <span id="selected-item" class="block truncate">Select your time slot</span>
        <span class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
            <svg class="rotate-180 h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l7 7a1 1 0 01-1.414 1.414L10 5.414 3.707 11.707a1 1 0 01-1.414-1.414l7-7A1 1 0 0110 3z" clip-rule="evenodd" />
            </svg>
        </span>
    </button>

    <ul id="listbox-options" class="absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm hidden">
        <li class="text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9 hover:bg-indigo-600 hover:text-white" data-value="10:00 AM">
            10:00 AM
        </li>
        <li class="text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9 hover:bg-indigo-600 hover:text-white" data-value="11:00 AM">
            11:00 AM
        </li>
        <li class="text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9 hover:bg-indigo-600 hover:text-white" data-value="12:00 PM">
            12:00 PM
        </li>
    </ul>
</div>


<script>
    document.addEventListener('DOMContentLoaded', () => {
    const listboxButton = document.getElementById('listbox-button') as HTMLElement;
    const listboxOptions = document.getElementById('listbox-options') as HTMLElement;
    const selectedItem = document.getElementById('selected-item') as HTMLElement;

    listboxButton?.addEventListener('click', () => {
        listboxOptions?.classList.toggle('hidden');
    });

    listboxOptions?.addEventListener('click', (event) => {
        // Type assertion to HTMLElement to access tagName
        const target = event.target as HTMLElement;
        if (target.tagName === 'LI') {
            selectedItem.textContent = target.getAttribute('data-value');
            listboxOptions.classList.add('hidden');
        }
    });

    document.addEventListener('click', (event) => {
        if (!listboxButton.contains(event.target as Node) && !listboxOptions.contains(event.target as Node)) {
            listboxOptions?.classList.add('hidden');
        }
    });
});

</script>